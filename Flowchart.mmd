%%{init: {'flowchart': {'curve': 'basis'}}}%%
flowchart LR
    %% --- Section 1: New Syntax & Icons ---
    
    %% Node with FontAwesome icon
    Admin@{ icon: "fa:user-secret", label: "**Super** Admin", pos: "b"}
    
    %% Node with real image
    Logo@{ img: "favicon.svg", w: 40, h: 40, constraint: "on" }

    %% New shapes: Manual Input and Card
    InputForm@{ shape: manual-input, label: "`User
    **Credentials**`"}
    
    ProfileCard@{ shape: card, label: "User Profile" }

    %% Connections for Section 1
    Admin -- Login --> InputForm
    
    %% Invisible link for layout adjustment (Comment moved to separate line)
    Logo ~~~ Admin

    %% --- Section 2: Subgraphs & Direction ---
    subgraph FrontEnd ["ðŸ’» Client Application"]
        direction TB
        InputForm
        ProfileCard
        
        %% Node shaped as a Document
        Docs@{ shape: docs, label: "Verification Docs" }
        
        InputForm -. Upload .-> Docs
    end

    %% --- Section 3: Animation & Advanced Edges ---
    
    %% Cloud shape
    Internet@{ shape: cloud, label: "Public Network" }
    
    %% Animated Edge - New Feature!
    FrontEnd edge1@==> Internet
    edge1@{ animate: true, animation: fast }

    %% --- Section 4: Logic & Special Arrows ---
    subgraph BackEnd ["âš™ï¸ Server Cluster"]
        direction LR
        
        %% Rhombus shape for condition
        Gateway{API Gateway}
        
        %% Stacked Process shape
        Processor@{ shape: procs, label: "Data Processor" }
        
        %% Circle and Cross edge endings
        Internet --o Gateway
        Gateway -- Valid --> Processor
        Gateway --x ErrorHandler(Block Request)
    end

    %% --- Section 5: Storage & Styling ---
    
    %% New storage shapes
    DB_Main@{ shape: cyl, label: "Main SQL" }
    DB_Backup@{ shape: lin-cyl, label: "Cold Storage" }

    Processor -- Store --> DB_Main
    DB_Main -. Replication .-> DB_Backup

    %% --- Section 6: Interaction & CSS Classes ---
    
    %% Clickable Node (Opens URL)
    click Admin "https://github.com" "View Admin Profile"

    %% Define CSS classes
    classDef urgent fill:#f96,stroke:#333,stroke-width:2px,color:white;
    classDef storage fill:#bbf,stroke:#333,stroke-dasharray: 5 5;

    %% Apply classes
    class ErrorHandler urgent;
    class DB_Main,DB_Backup storage;

    %% Style specific link
    linkStyle 0 stroke:green,stroke-width:2px;
    %% Explanation of the flowchart:
    %% 1. The flowchart direction is 'TD' (Top Down).
    %% 2. Nodes represent specific steps in a process (e.g., Start, Do something, Finish).
    %% 3. The diamond shape (C) represents a decision point with two possible outcomes: 'Yes' and 'No'.
    %% 4. The edges ('-->' and '|Label|') indicate the flow between steps and conditions in the process.
    %% 5. Flowcharts are ideal for representing linear or branching processes with clear decision points.
    %% 6. The flowchart has a clear direction and defines steps in a specific sequence.
    %% 7. Unlike graphs, flowcharts are designed for step-by-step process visualization and decision-making.

    %% Key differences with graphs:
    %% - Flowcharts represent linear, sequential processes, while graphs show relationships between nodes.
    %% - Flowcharts usually include decision points (e.g., Yes/No), while graphs can have multiple bidirectional connections.
    %% - Flowcharts are more structured and follow a strict flow, whereas graphs are used for more general network relationships.
